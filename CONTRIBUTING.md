# Donkeycarへの貢献

Donkeycarプロジェクトへの貢献ありがとうございます。ここでは、あなたの変更をDonkeycarに取り込んでもらうためのガイドラインを紹介します。

## 良いPull Requestとは？
- コードが既存機能のバグ修正や最適化／リファクタを実装している、もしくは新機能を追加していること。
- 新機能を追加する場合は、PRを作成する前にDonkeycarリポジトリでIssueを立てて議論することをお勧めします。そうすることで実装方法や、そもそも受け入れられるかどうかを確認できます。新機能は幅広いユーザーにとって有用なものにしてください。
- コードは読みやすく、必要な箇所にコメントがあり、pep8スタイルに準拠していること。他のコードとの重複を避け、データとメソッドはできるだけクラスに整理し、長大で一枚岩の関数や入出力が多すぎる関数は避けてください。モンキーパッチは禁止で、Pythonicな書き方を心掛けてください。
- 現在サポートしているプラットフォーム（Raspberry Pi OS と Jetson Nano、Linux、Mac、Windows のWSL）で動作すること。
- ユニットテストがあること。
- docs.donkeycar.comで指定されているPythonのバージョンで動作すること。
- PRには、機能や修正をどのようにテストすればよいか手順を含めてください。場合によっては、ハードウェアの取り付けを含む処理を示すためにYouTubeやVimeoへの動画リンクを載せると良いでしょう。
- 既存機能の変更や新機能の場合は、ドキュメントリポジトリ https://github.com/autorope/donkeydocs へのPRも作成し、更新されたドキュメントを用意してください。テスターはそれを参考にします。

## 受け入れられにくいPull Request
- 幅広い利用者には役立たない、またはDonkeycarの対象には複雑すぎる機能を追加するもの。例えば特殊なハードウェア用のドライバーなど、一般的に入手できないハードウェアの場合は、自分のフォークで管理し、本家のmainブランチに追従する形を推奨します。
- ユニットテストがないもの。
- PRを出した後、コメントや変更依頼があっても応答がない場合。その場合は最終的に「応答なし」としてPRを閉じます。

## Pull Requestの流れ
- Donkeycarリポジトリを自分のGitHubアカウントにフォークします。詳細はGitHubドキュメントの[About Forks](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/about-forks)を参照してください。
- 自分のリポジトリで`main`ブランチからブランチを作成し、変更を行います。
- Donkeycar本体のリポジトリへプルリクエストを送ります。GitHubのIssueに紐付いている場合は、そのIssueをPRで参照してください。詳細は[Creating a Pull Request from a Fork](https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request-from-a-fork)を参照してください。
  - Issueに紐付くPRであれば、PRの説明にIssueへのリンクを含めてください。
  - ドキュメント変更に関するPRであれば、ドキュメントリポジトリの関連PRへのリンクを含めてください。
- プルリクエストが作成されると、メンテナーに自動的に通知されます。
- メンテナーがコメントや変更依頼を行います。小さなボランティアチームで複数の取り組みを行っているため、少し時間がかかることがあります。DiscordのsoftwareチャンネルでPRを紹介すると注目を集めやすくなります。
- PRの作成者はコメントや変更依頼を確認し、対応してください。特に、すぐに対応できない場合はその旨をPRにコメントして、無応答として閉じられないようにしましょう。
- PRを採用しないと判断する場合もあります。そうならないよう、事前にIssueで提案内容を議論しておくと良いでしょう（上記参照）。
- すべての変更依頼が完了するとPRは受理されます。この時点でメンテナーがマージし、PRは完了として閉じられます。あなたの貢献で世界が少し良くなります！

